<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <link rel="stylesheet" href="/css/manpage.css" type="text/css" media="all"/>
  <title>ZFSNAP(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ZFSNAP(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">ZFSNAP(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b class="Nm" title="Nm">zfsnap</b> &#x2014; <span class="Nd" title="Nd">create
  and delete rolling ZFS snapshots</span>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">zfsnap</b></td>
    <td>[<span class="Op"><b class="Fl" title="Fl">-h</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-V</b></span>] |
      <var class="Ar" title="Ar">&lt;command&gt;</var>
      [<span class="Op">options</span>]
      <var class="Ar" title="Ar">zpool/filesystem ...</var></td>
  </tr>
</table>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b class="Nm" title="Nm">zfsnap</b> creates and deletes rolling ZFS snapshots
  &#x2014; usually with cron. <b class="Nm" title="Nm">zfsnap</b>'s main
  advantages are its portability and that all information needed for snapshot
  management is kept in the snapshot name itself.
<div class="Pp"></div>
zfsnap snapshots are in the format of pool/fs@[prefix]Timestamp--TimeToLive
  (e.g. zpool/var@monthly-2010-08-03_02.06.00--1y).
<div class="Pp"></div>
The prefix is optional and is quite useful for filtering; Timestamp is the date
  and time when the snapshot was created; and TimeToLive (TTL) is the amount of
  time the snapshot will be kept until it's ready for deletion.
<h2 class="Ss" title="Ss" id="Top&#x2010;level_Options"><a class="selflink" href="#Top&#x2010;level_Options">Top&#x2010;level
  Options</a></h2>
The majority of functionality is implemented at the
  <var class="Ar" title="Ar">&lt;command&gt;</var> layer. However, a few options
  can be passed to <b class="Nm" title="Nm">zfsnap</b> directly.
<dl class="Bl-tag">
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#h"><b class="Fl" title="Fl" id="h">-h</b></a></dt>
  <dd class="It-tag">Print a summary of <b class="Nm" title="Nm">zfsnap</b>'s
      command&#x2010;line options and then exit.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#V"><b class="Fl" title="Fl" id="V">-V</b></a></dt>
  <dd class="It-tag">Print the version number and exit.</dd>
</dl>
<div class="Pp"></div>
<b class="Nm" title="Nm">zfsnap</b> operates only on snapshots and will
  <i class="Em" title="Em">never</i> destroy or create a pool or filesystem.
<h1 class="Sh" title="Sh" id="Commands"><a class="selflink" href="#Commands">Commands</a></h1>
Most <b class="Nm" title="Nm">zfsnap</b> actions are performed by using a
  <var class="Ar" title="Ar">&lt;command&gt;</var>. All options and arguments
  passed to a <var class="Ar" title="Ar">&lt;command&gt;</var> are operated on
  as they are read (i.e. sequentially). This provides the flexibility needed for
  complex scenarios, but also has the capacity to bite you if you're not paying
  attention. Remember, <b class="Fl" title="Fl">-n</b> (dry&#x2010;run) is
  provided for a reason.
<div class="Pp"></div>
Only one <var class="Ar" title="Ar">&lt;command&gt;</var> can be passed per
  invocation of <b class="Nm" title="Nm">zfsnap</b>.
<h2 class="Ss" title="Ss" id="destroy"><a class="selflink" href="#destroy">destroy</a></h2>
By default, <b class="Nm" title="Nm">zfsnap</b>
  <b class="Cm" title="Cm">destroy</b> will only delete snapshots whose TTLs
  have expired. However, options are provided to override that behavior with
  more aggressive approaches.
<div class="Pp"></div>
Only snapshots created by <b class="Nm" title="Nm">zfsnap</b> (or, more
  specifically, snapshots which match the very specific name pattern it employs)
  will be considered for deletion.
<dl class="Bl-tag">
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#D"><b class="Fl" title="Fl" id="D">-D</b></a></dt>
  <dd class="It-tag">Delete all zfsnap snapshots &#x2014; regardless of their
      TTL expiration &#x2014; on all ZFS file systems that follow this
    option.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#F"><b class="Fl" title="Fl" id="F">-F</b></a>
    <var class="Ar" title="Ar">age</var></dt>
  <dd class="It-tag">Force delete all snapshots exceeding
      <var class="Ar" title="Ar">age</var> (defined in TTL format) &#x2014;
      regardless of their TTL expiration &#x2014; on all ZFS file systems that
      follow this option. See <a class="Sx" title="Sx" href="#TTL_SYNTAX">TTL
      SYNTAX</a> for more information.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#h"><b class="Fl" title="Fl" id="h">-h</b></a></dt>
  <dd class="It-tag">Print a summary of <b class="Cm" title="Cm">destroy</b>'s
      command&#x2010;line options and then exit.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#n"><b class="Fl" title="Fl" id="n">-n</b></a></dt>
  <dd class="It-tag">Dry&#x2010;run. Perform a trial run with no actions
      actually performed.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#p"><b class="Fl" title="Fl" id="p">-p</b></a>
    <var class="Ar" title="Ar">prefix</var></dt>
  <dd class="It-tag">Enable filtering to only consider snapshots with
      <var class="Ar" title="Ar">prefix</var>; it can be specified multiple
      times to build a list.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#P"><b class="Fl" title="Fl" id="P">-P</b></a></dt>
  <dd class="It-tag">Disable filtering for prefixes.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#r"><b class="Fl" title="Fl" id="r">-r</b></a></dt>
  <dd class="It-tag">Operate recursively for snapshots on all ZFS file systems
      that follow this option.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#R"><b class="Fl" title="Fl" id="R">-R</b></a></dt>
  <dd class="It-tag">Do not operate recursively for snapshots on all ZFS file
      systems that follow this option.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#s"><b class="Fl" title="Fl" id="s">-s</b></a></dt>
  <dd class="It-tag">Skip pools that are resilvering.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#S"><b class="Fl" title="Fl" id="S">-S</b></a></dt>
  <dd class="It-tag">Skip pools that are scrubbing.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#v"><b class="Fl" title="Fl" id="v">-v</b></a></dt>
  <dd class="It-tag">Verbose output.</dd>
</dl>
<h2 class="Ss" title="Ss" id="recurseback"><a class="selflink" href="#recurseback">recurseback</a></h2>
<b class="Nm" title="Nm">zfsnap</b> <b class="Cm" title="Cm">recurseback</b> is
  different from `zfs rollback` in that it will rollback for not only the
  specified dataset, but also for all that dataset's children.
<dl class="Bl-tag">
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#d"><b class="Fl" title="Fl" id="d">-d</b></a>
    <var class="Ar" title="Ar">depth</var></dt>
  <dd class="It-tag">Limit the recursion to
      <var class="Ar" title="Ar">depth</var>. A
      <var class="Ar" title="Ar">depth</var> of 1 will rollback only the dataset
      and its direct children.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#f"><b class="Fl" title="Fl" id="f">-f</b></a></dt>
  <dd class="It-tag">Typically used with the
      [<span class="Op"><b class="Fl" title="Fl">-R</b></span>] option to force
      an unmount of any clone file systems that are to be destroyed.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#h"><b class="Fl" title="Fl" id="h">-h</b></a></dt>
  <dd class="It-tag">Print a summary of
      <b class="Cm" title="Cm">recurseback</b>'s command&#x2010;line options and
      then exit.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#n"><b class="Fl" title="Fl" id="n">-n</b></a></dt>
  <dd class="It-tag">Dry&#x2010;run. Perform a trial run with no actions
      actually performed.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#r"><b class="Fl" title="Fl" id="r">-r</b></a></dt>
  <dd class="It-tag">Destroy any snapshots and bookmarks more recent than the
      one specified.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#R"><b class="Fl" title="Fl" id="R">-R</b></a></dt>
  <dd class="It-tag">Destroy any snapshots and bookmarks more recent than the
      one specified, as well as any clones of those snapshots.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#v"><b class="Fl" title="Fl" id="v">-v</b></a></dt>
  <dd class="It-tag">Verbose output.</dd>
</dl>
<h2 class="Ss" title="Ss" id="snapshot"><a class="selflink" href="#snapshot">snapshot</a></h2>
The purpose of <b class="Nm" title="Nm">zfsnap</b>
  <b class="Cm" title="Cm">snapshot</b> is simple: to create snapshots.
<dl class="Bl-tag">
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#a"><b class="Fl" title="Fl" id="a">-a</b></a>
    <var class="Ar" title="Ar">TTL</var></dt>
  <dd class="It-tag">How long the snapshots should be kept. If not declared, the
      default <var class="Ar" title="Ar">TTL</var> is one month. See
      <a class="Sx" title="Sx" href="#TTL_SYNTAX">TTL SYNTAX</a> for more
      information.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#h"><b class="Fl" title="Fl" id="h">-h</b></a></dt>
  <dd class="It-tag">Print a summary of <b class="Cm" title="Cm">snapshot</b>'s
      command&#x2010;line options and then exit.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#n"><b class="Fl" title="Fl" id="n">-n</b></a></dt>
  <dd class="It-tag">Dry&#x2010;run. Perform a trial run with no actions
      actually performed.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#p"><b class="Fl" title="Fl" id="p">-p</b></a>
    <var class="Ar" title="Ar">prefix</var></dt>
  <dd class="It-tag">Prefix to apply when naming snapshots for all ZFS file
      systems that follow this option.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#P"><b class="Fl" title="Fl" id="P">-P</b></a></dt>
  <dd class="It-tag">Don't apply any prefix when naming snapshots for all ZFS
      file systems that follow this option.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#r"><b class="Fl" title="Fl" id="r">-r</b></a></dt>
  <dd class="It-tag">Create recursive snapshots of all ZFS file systems that
      follow this option.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#R"><b class="Fl" title="Fl" id="R">-R</b></a></dt>
  <dd class="It-tag">Create non&#x2010;recursive snapshots for each ZFS file
      system that follows this option.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#s"><b class="Fl" title="Fl" id="s">-s</b></a></dt>
  <dd class="It-tag">Skip pools that are resilvering.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#S"><b class="Fl" title="Fl" id="S">-S</b></a></dt>
  <dd class="It-tag">Skip pools that are scrubbing.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#v"><b class="Fl" title="Fl" id="v">-v</b></a></dt>
  <dd class="It-tag">Verbose output.</dd>
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag"><a class="selflink" href="#z"><b class="Fl" title="Fl" id="z">-z</b></a></dt>
  <dd class="It-tag">Round snapshot creation time down to 00 seconds.</dd>
</dl>
<h1 class="Sh" title="Sh" id="TTL_SYNTAX"><a class="selflink" href="#TTL_SYNTAX">TTL
  SYNTAX</a></h1>
The Time&#x2010;To&#x2010;Live (TTL) contains numbers and modifiers. Valid
  modifiers are:
<div class="Bl-tag" style="margin-left: 4.00ex;">
<dl class="Bl-tag" style="margin-left: 12.60ex;">
  <dt class="It-tag" style="margin-left: -12.60ex;">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;"><var class="Ar" title="Ar">y</var></dt>
  <dd class="It-tag">years (calendar)</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;"><var class="Ar" title="Ar">m</var></dt>
  <dd class="It-tag">months (calendar)</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;"><var class="Ar" title="Ar">w</var></dt>
  <dd class="It-tag">weeks</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;"><var class="Ar" title="Ar">d</var></dt>
  <dd class="It-tag">days</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;"><var class="Ar" title="Ar">h</var></dt>
  <dd class="It-tag">hours</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;"><var class="Ar" title="Ar">M</var></dt>
  <dd class="It-tag">minutes</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;"><var class="Ar" title="Ar">s</var></dt>
  <dd class="It-tag">seconds</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;"><var class="Ar" title="Ar">forever</var></dt>
  <dd class="It-tag">a special&#x2010;case modifier that will never expire and
      cannot be used with other TTL modifiers. Both
      [<span class="Op"><b class="Fl" title="Fl">-F</b></span>] and
      [<span class="Op"><b class="Fl" title="Fl">-D</b></span>] will delete
      snapshots with a TTL of <var class="Ar" title="Ar">forever</var>.</dd>
</dl>
</div>
<div class="Pp"></div>
You do not need to use all of the modifiers, but they must be used in the above
  order (i.e. sequentially).
<div class="Pp"></div>
TTL numbers must be greater than zero and cannot have leading zeros (e.g. Both
  <var class="Ar" title="Ar">0y</var> and <var class="Ar" title="Ar">09d</var>
  are invalid).
<div class="Pp"></div>
The default TTL is <var class="Ar" title="Ar">1m</var> (one month).
<h2 class="Ss" title="Ss" id="TTL_Math"><a class="selflink" href="#TTL_Math">TTL
  Math</a></h2>
When a TTL is added to a date, each field is added independently, then any month
  overflows are carried into years, and then all overflows are carried normally
  from right to left.
<div class="Pp"></div>
For example, with a date of 2009-02-27 and a TTL of
  <var class="Ar" title="Ar">1m3d</var>, the expiration date is 2009-03-30
  rather than 2009-04-02.
<div class="Pp"></div>
As a corner case, adding a TTL of <var class="Ar" title="Ar">1m</var> (one
  month) to the date 2009-10-31 will result in an expiration date of 2009-12-01
  rather than 2009-11-30. Because there are only 30 days in November, precisely
  one month after October 31st is ambiguous. The TTL math chooses the more
  conservative (later) result.
<h2 class="Ss" title="Ss" id="TTL_Examples"><a class="selflink" href="#TTL_Examples">TTL
  Examples</a></h2>
<dl class="Bl-tag" style="margin-left: 12.60ex;">
  <dt class="It-tag" style="margin-left: -12.60ex;">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;"><var class="Ar" title="Ar">1y6m5d2h</var></dt>
  <dd class="It-tag">One year, six months, five days, and two hours</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;"><var class="Ar" title="Ar">18m</var></dt>
  <dd class="It-tag">Eighteen months</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;"><var class="Ar" title="Ar">90M</var></dt>
  <dd class="It-tag">Ninety minutes</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;">&#x00A0;</dt>
  <dd class="It-tag">&#x00A0;</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;"><var class="Ar" title="Ar">86400s</var></dt>
  <dd class="It-tag">Eighty&#x2010;six thousand and four hundred seconds (1
    day)</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<b class="Nm" title="Nm">zfsnap</b> exits 0 on success and 1 if an error occurs.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<b class="Nm" title="Nm">zfsnap</b> was designed to work with cron. Thus, some
  of these examples will include cron markup.
<div class="Pp"></div>
Every hour, create recursive snapshots of an entire pool and keep for 5 days.
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
# Minute  Hour  Day  Month  Day  Who   Command 
5         *     *    *      *    root  /sbin/zfsnap snapshot -a 5d -r zpool
</pre>
</div>
<div class="Pp"></div>
Create snapshots of different datasets in different zpools and keep for 2 weeks.
<div class="Pp"></div>
<div class="D1"><code class="Li">zfsnap snapshot -a 2w zpool2/git zpool2/jails
  -r zpool2/jails/main zpool1/var</code></div>
<div class="Pp"></div>
Note that [<span class="Op"><b class="Fl" title="Fl">-a</b></span>],
  [<span class="Op"><b class="Fl" title="Fl">-r</b></span>], and
  [<span class="Op"><b class="Fl" title="Fl">-R</b></span>] can be used many
  times in a single line.
<div class="Pp"></div>
Now, for a more complex example. Here, <b class="Nm" title="Nm">zfsnap</b> will
  snapshot
<ul class="Bl-dash Bl-compact" style="margin-left: 2.00ex;">
  <li class="It-dash">zpool/var recursively and hold it for 1 year</li>
  <li class="It-dash">zpool/home recursively and hold it for 6 minutes</li>
  <li class="It-dash">zpool/usr recursively and hold it for 3 months</li>
  <li class="It-dash">zpool/root non&#x2010;recursively and hold it for 3
      months.</li>
</ul>
<div class="Pp"></div>
<div class="D1"><code class="Li">zfsnap snapshot -a 1y -r zpool/var -a 6M
  zpool/home -a 3m zpool/usr -R zpool/root</code></div>
<div class="Pp"></div>
Deleting ZFS snapshots is much slower than creating them, and it's usually not a
  problem if snapshots live a few hours longer. Thus, it is usually best to
  delete old snapshots once a day.
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
# Minute  Hour  Day  Month  Day  Who   Command 
0         1     *    *      *    root  /sbin/zfsnap destroy -r zpool
</pre>
</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" title="Xr">cron(8)</a>, <a class="Xr" title="Xr">zfs(8)</a>,
  <a class="Xr" title="Xr">zpool(8)</a>
<div class="Pp"></div>
The zfsnap website is available at
  <a class="Lk" title="Lk" href="http://www.zfsnap.org">http://www.zfsnap.org</a>
<div class="Pp"></div>
Please report any bugs to
  <a class="Lk" title="Lk" href="https://github.com/zfsnap/zfsnap/issues">https://github.com/zfsnap/zfsnap/issues</a>
<div class="Pp"></div>
General questions and discussion can be directed to our mailing list at
  <a class="Mt" title="Mt" href="mailto:zfsnap@librelist.com">zfsnap@librelist.com</a>
  (gmane.comp.sysutils.zfsnap on gmane).
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<b class="Nm" title="Nm">zfsnap</b> was created by
  <span class="An" title="An">Aldis Berjoza</span>,
  <a class="Mt" title="Mt" href="mailto:graudeejs@yandex.com">graudeejs@yandex.com</a>,
  and is co&#x2010;maintained with <span class="An" title="An">Alex Waite</span>
  <a class="Mt" title="Mt" href="mailto:alex@waite.eu">alex@waite.eu</a>. See
  the AUTHORS file for more information.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<b class="Nm" title="Nm">zfsnap</b> is released under the
  &#x201C;BSD&#x2010;3&#x2010;Clause License.&#x201D; See the LICENSE file for
  more information.</div>
<table class="foot">
  <tr>
    <td class="foot-date">August 28, 2015</td>
    <td class="foot-os">Debian</td>
  </tr>
</table>
</body>
</html>
